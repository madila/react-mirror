(()=>{"use strict";var e={d:(t,r)=>{for(var s in r)e.o(r,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:r[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{Mirror:()=>c,useMirror:()=>i});const r=require("react"),s=require("react-dom"),o=require("specificity");function n(e,t,r){const s={},n=/:(:?)[a-z-]+/g;for(let t=0;t<document.styleSheets.length;t++){const r=document.styleSheets[t],o=r.rules||r.cssRules;for(let t=0;t<o.length;t++){const r=o[t];for(const t of r.selectorText.split(",").map((e=>e.trim()))){const o=null==t?void 0:t.replace(n,"");(null==e?void 0:e.matches(o))&&(s[t]=r.style)}}}const l=t.className.replace(" ","-");t.className=`${l}${(null==r?void 0:r.class)||""}`;const c=document.createElement("style");c.type="text/css";for(const e of Object.keys(s).sort(o.compare)){const r=s[e],o=e.match(n);if(null==o?void 0:o.length)for(const e of new Set(o))c.innerHTML+=`.${t.className}${e} { ${r.cssText} }\n`;else for(let e=0;e<r.length;e++){const s=r[e],o=r.getPropertyValue(s);t.style.setProperty(s,o)}}c.innerHTML&&t.appendChild(c)}function l(e,t){const r=function(e,t){const r=e.cloneNode(!1),s=r,o=e;if(o.style&&s.style){n(o,s,t);for(const[e,r]of Object.entries(t.styles||{}))s.style.setProperty(e.replace(/([A-Z])/g,"-$1").toLocaleLowerCase(),r)}return r}(e,t);for(const s of e.childNodes)r.appendChild(l(s,t));return r}function c({className:e,reflect:t}){const o=r.useMemo((()=>function(e){let t="";for(;t.length<7;)t+=Math.random().toString(36).substr(2,7-t.length);return t}()),[t]),[c,i]=r.useState(null),a=r.useMemo((()=>s.findDOMNode(t)),[t]),u=r.useCallback((()=>{if(!c||!a)return;const t={class:`_${o}`,styles:{pointerEvents:"none"}},r=l(a,t);for(c.firstChild?c.replaceChild(r,c.firstChild):c.appendChild(r);c.firstChild!==c.lastChild;)c.removeChild(c.lastChild);c.className=e,n(c,c,t)}),[c,a,e]);r.useEffect(u,[u]);const f=r.useMemo((()=>new MutationObserver(u)),[u]);return r.useEffect((()=>{if(a&&f)return f.observe(a,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),a.addEventListener("input",u),()=>f.disconnect()}),[a,f]),r.createElement("div",{className:e,ref:i})}function i(e){const[t,s]=r.useState(null);return[s,r.createElement(c,Object.assign({key:"mirror"},e,{reflect:t}))]}var a=exports;for(var u in t)a[u]=t[u];t.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})();
//# sourceMappingURL=main.js.map